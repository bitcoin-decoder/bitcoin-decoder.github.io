<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search & Analyze</title>
</head>
<body>
    <h1>Wallet Address Search & Analyze</h1>

    <!-- Input box for the search query -->
    <label for="searchQuery">Enter your search query:</label>
    <input type="text" id="searchQuery" placeholder="e.g., crypto wallet addresses" style="width: 300px;" />
    <button id="searchButton">Search</button>

    <h2>Results</h2>
    <div id="results"></div>

    <script>
        // Function to perform a DuckDuckGo search via API
        async function searchDuckDuckGo(query) {
            const apiUrl = `https://api.duckduckgo.com/?q=${encodeURIComponent(query)}&format=json&pretty=1`;
            try {
                const response = await fetch(apiUrl);
                const data = await response.json();
                return data.RelatedTopics.map(topic => topic.FirstURL || topic.Icon.URL).filter(Boolean);
            } catch (error) {
                console.error('Error fetching search results:', error);
                return [];
            }
        }

        // Function to analyze wallet addresses in text
        function findWalletAddresses(text) {
            const walletPatterns = [
                /\b0x[a-fA-F0-9]{40}\b/g, // Ethereum wallet addresses
                /\b[13][a-km-zA-HJ-NP-Z1-9]{25,34}\b/g, // Bitcoin wallet addresses
                /\b[L3][a-km-zA-HJ-NP-Z1-9]{26,33}\b/g, // Litecoin wallet addresses
                /\b[9A-HJ-NP-Za-km-z]{81}\b/g // IOTA wallet addresses
            ];

            return walletPatterns.flatMap(pattern => text.match(pattern) || []);
        }

        // Function to process search results and extract wallet addresses
        async function processResults(results) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = ''; // Clear previous results

            for (const result of results) {
                if (result.endsWith('.html') || result.startsWith('http')) {
                    try {
                        const response = await fetch(result);
                        const htmlText = await response.text();
                        const walletAddresses = findWalletAddresses(htmlText);
                        if (walletAddresses.length > 0) {
                            resultsDiv.innerHTML += `<h3>Website: <a href="${result}" target="_blank">${result}</a></h3><p>Wallet Addresses Found:</p><ul>${walletAddresses.map(addr => `<li>${addr}</li>`).join('')}</ul>`;
                        }
                    } catch (error) {
                        console.error('Error fetching or processing URL:', error);
                    }
                }
            }
        }

        // Event listener for the search button
        document.getElementById('searchButton').addEventListener('click', async () => {
            const query = document.getElementById('searchQuery').value.trim();
            if (!query) {
                alert('Please enter a search query!');
                return;
            }

            const results = await searchDuckDuckGo(query);
            await processResults(results);
        });
    </script>
</body>
</html>
