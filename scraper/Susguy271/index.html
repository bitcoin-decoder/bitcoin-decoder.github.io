<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Wallet Search</title>
</head>
<body>
    <h1>Bitcoin Wallet Address Search</h1>

    <!-- Input box for the search query -->
    <label for="searchQuery">Enter your search query:</label>
    <input type="text" id="searchQuery" placeholder="e.g., Bitcoin wallets" style="width: 300px;" />
    <button id="searchButton">Search</button>

    <h2>Results</h2>
    <div id="results"></div>

    <script>
        // Function to perform a DuckDuckGo search via API
        async function searchDuckDuckGo(query) {
            const apiUrl = `https://api.duckduckgo.com/?q=${encodeURIComponent(query)}&format=json&pretty=1`;
            try {
                const response = await fetch(apiUrl);
                const data = await response.json();
                return data.RelatedTopics.map(topic => topic.FirstURL).filter(Boolean);
            } catch (error) {
                console.error('Error fetching search results:', error);
                return [];
            }
        }

        // Function to find all Bitcoin wallet address formats in text
        function findBitcoinWallets(text) {
            const patterns = [
                /\b1[a-km-zA-HJ-NP-Z1-9]{25,34}\b/g, // P2PKH
                /\b3[a-km-zA-HJ-NP-Z1-9]{25,34}\b/g, // P2SH
                /\bbc1[a-zA-HJ-NP-Z0-9]{39,59}\b/g   // Bech32
            ];

            return patterns.flatMap(pattern => text.match(pattern) || []);
        }

        // Function to process search results and extract Bitcoin wallet addresses
        async function processResults(results) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = ''; // Clear previous results

            for (const result of results) {
                try {
                    const response = await fetch(result);
                    const htmlText = await response.text();
                    const bitcoinWallets = findBitcoinWallets(htmlText);

                    if (bitcoinWallets.length > 0) {
                        resultsDiv.innerHTML += `<h3>Website: <a href="${result}" target="_blank">${result}</a></h3>
                            <p>Bitcoin Wallets Found:</p>
                            <ul>${bitcoinWallets.map(wallet => `<li>${wallet}</li>`).join('')}</ul>`;
                    }
                } catch (error) {
                    console.error('Error fetching or processing URL:', error);
                }
            }

            if (resultsDiv.innerHTML === '') {
                resultsDiv.innerHTML = '<p>No Bitcoin wallet addresses found.</p>';
            }
        }

        // Event listener for the search button
        document.getElementById('searchButton').addEventListener('click', async () => {
            const query = document.getElementById('searchQuery').value.trim();
            if (!query) {
                alert('Please enter a search query!');
                return;
            }

            const results = await searchDuckDuckGo(query);
            await processResults(results);
        });
    </script>
</body>
</html>
