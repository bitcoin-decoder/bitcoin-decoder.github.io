<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHA-256 to Bitcoin Address</title>
    <script>
        async function hashAndGenerate() {
            const word = document.getElementById("wordInput").value;
            const iterations = parseInt(document.getElementById("iterations").value);
            if (!word || isNaN(iterations) || iterations < 1) {
                alert("Please enter a valid word and a positive number of iterations.");
                return;
            }

            // Perform the hashing
            let hash = word;
            for (let i = 0; i < iterations; i++) {
                const encoder = new TextEncoder();
                const data = encoder.encode(hash);
                const digest = await crypto.subtle.digest("SHA-256", data);
                hash = Array.from(new Uint8Array(digest)).map(b => b.toString(16).padStart(2, '0')).join('');
            }

            // Convert hash to private key
            const privateKeyHex = hash.slice(0, 64); // Take the first 64 characters

            // Generate public keys and Bitcoin addresses
            const publicKeyCompressed = generatePublicKey(privateKeyHex, true);
            const publicKeyUncompressed = generatePublicKey(privateKeyHex, false);

            const addressCompressed = publicKeyToAddress(publicKeyCompressed);
            const addressUncompressed = publicKeyToAddress(publicKeyUncompressed);

            document.getElementById("result").innerHTML = `
                <p><strong>Private Key (Hex):</strong> ${privateKeyHex}</p>
                <p><strong>Compressed Address:</strong> ${addressCompressed}</p>
                <p><strong>Uncompressed Address:</strong> ${addressUncompressed}</p>
            `;
        }

        function generatePublicKey(privateKeyHex, compressed) {
            // Placeholder for public key generation
            // Replace with full ECDSA implementation if needed
            if (compressed) {
                return "CompressedPublicKey";
            } else {
                return "UncompressedPublicKey";
            }
        }

        function publicKeyToAddress(publicKey) {
            // Perform SHA-256 hash
            const sha256Hash = sha256(publicKey);

            // Perform RIPEMD-160 hash
            const ripemd160Hash = ripemd160(sha256Hash);

            // Add version byte (0x00 for mainnet)
            const versionedKey = "00" + ripemd160Hash;

            // Perform double SHA-256 for checksum
            const checksum = sha256(sha256(versionedKey)).slice(0, 8);

            // Concatenate and encode in Base58
            const finalKey = versionedKey + checksum;
            return base58Encode(finalKey);
        }

        function sha256(input) {
            // Simple SHA-256 implementation
            const encoder = new TextEncoder();
            const data = encoder.encode(input);
            const digest = crypto.subtle.digestSync("SHA-256", data);
            return Array.from(new Uint8Array(digest)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        function ripemd160(input) {
            // Placeholder for RIPEMD-160 hash
            // Replace with full implementation
            return "RIPEMD160Hash";
        }

        function base58Encode(input) {
            const alphabet = "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";
            let num = BigInt("0x" + input);
            let encoded = "";
            while (num > 0) {
                const remainder = num % 58n;
                num = num / 58n;
                encoded = alphabet[Number(remainder)] + encoded;
            }
            for (const char of input) {
                if (char !== "0") break;
                encoded = "1" + encoded;
            }
            return encoded;
        }
    </script>
</head>
<body>
    <h1>SHA-256 to Bitcoin Address Generator</h1>
    <form onsubmit="event.preventDefault(); hashAndGenerate();">
        <label for="wordInput">Enter a word or phrase:</label><br>
        <input type="text" id="wordInput" placeholder="Enter your word here"><br><br>

        <label for="iterations">Number of Hash Iterations:</label><br>
        <input type="number" id="iterations" min="1" placeholder="Enter number of iterations"><br><br>

        <button type="submit">Generate</button>
    </form>

    <div id="result" style="margin-top: 20px;"></div>
</body>
</html>
